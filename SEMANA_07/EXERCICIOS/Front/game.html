<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="gameDiv">
        <h1 class="gameText" id="playerText">Player: </h1>
        <h1 class="gameText" id="ComputadorText">Computador: </h1>
        <h1 class="gameText" id="resultText">Resultado: </h1>

        <button class="Botoes">Pedra</button>
        <button class="Botoes">Papel</button>
        <button class="Botoes">Tesoura</button>


    </div>
    <script>const playerText = document.querySelector("#playerText");
        const ComputadorText = document.querySelector("#ComputadorText");
        const resultText = document.querySelector("#resultText");
        const Botoes = document.querySelectorAll(".Botoes");
        
        let player;
        let Computador;
        let result;
        
        Botoes.forEach(button => button.addEventListener("click", () => {
        
            player = button.textContent;
            ComputadorTurn();
        
            playerText.textContent = "Player: " + player;
            ComputadorText.textContent = "Computador: " + Computador;
            resultText.textContent = checkWinner();

            result = checkWinner();

              if (result == "Perdeu!") {
              $.get("http://10.128.65.158:80/Perdeu", function(Perdeu){
            });}

              if (result == "Empate!") {
              $.get("http://10.128.65.158:80/Empate", function(Empate){
            });}

              if (result == "Ganhou!") {
              $.get("http://10.128.65.158:80/Ganhou", function(Ganhou){
            });}


        }));
        
        
        function ComputadorTurn(){
        
            const Numaletorio = Math.floor(Math.random() * 3) + 1;
        
            switch(Numaletorio){
              case 1:
                Computador = "Pedra";
                break;
              case 2:
                Computador = "Papel";
                break;
              case 3:
                Computador = "Tesoura";
                break;
            }
        }
        function checkWinner(){
            if(player == Computador){
              return "Empate!";
            }
            else if(Computador == "Pedra" && player == "Tesoura"){
              return "Perdeu!"
            }
            else if(Computador == "Papel" && player == "Pedra"){
              return "Perdeu!"
            }
            else if(Computador == "Tesoura" && player == "Papel"){
              return  "Perdeu!"
            }  
            else if (player == "Pedra" && Computador == "Tesoura"){
              return "Ganhou!"
            }
            else if (player == "Papel" && Computador == "Pedra"){
              return "Ganhou!"
            }
            else if (player == "Tesoura" && Computador == "Papel"){
              return "Ganhou!"
            }
        }
        console.log(result)
        </script>
</body>